<!DOCTYPE html><html class="han-init" lang="zh-Hant"><head><meta name="author" content="死月·吃圡蕾特"><meta name="description" itemprop="description" content="由于Linux中的环境搭建比较简单，所以草草略过。
　　其实Windows下也不算麻烦，但是这里会讲一定量的别的环境的搭建。

Linux 环境讲到这个就很简单了，跟着下面的 bash 操作即可：
sh$ cd /usr/local/bin$ wget http://nodejs.org/dist/"><link rel="alternative" href="/atom.xml" title="艾克斯の编码者" type="application/atom+xml"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>一起撸Node.JS（负贰）——环境 · 一个伪宅级别的码畜。</title><link rel="stylesheet" type="text/css" href="/font/fantasque_sans_mono/stylesheet.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/webicons/2.0.0/webicons.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/Han/3.3.0/han.min.css"><link rel="stylesheet" type="text/css" href="/styles/screen.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/highlight.js/9.9.0/styles/gruvbox-dark.min.css"></head><body><header><a href="/"><img class="logo" src="/images/avatar.gif" alt="艾克斯の编码者" title="艾克斯の编码者"></a><h1><a href="/" alt="艾克斯の编码者" title="艾克斯の编码者">艾克斯の编码者</a></h1><p>一个伪宅级别的码畜。</p><nav><ul><li><a href="/" alt="首页" title="首页">首页</a></li><li><a href="/pigeonhole" alt="归档" title="归档">归档</a></li><li><a href="/links" alt="链接" title="链接">链接</a></li><li><a href="/curriculumvitae" alt="关于" title="关于">关于</a></li></ul><div class="xnews-icon"><a target="_blank" href="https://xcoder.in/atom.xml">&#xe621;</a><a target="_blank" href="https://github.com/XadillaX" style="position: relative; top: -2px;">&#xe735;</a><a target="_blank" href="https://www.zhihu.com/people/xadillax">&#xe63f;</a><a target="_blank" href="https://weibo.com/xadillax" style="position: relative; top: -2px;">&#xe603;</a></div></nav><div class="space"></div></header><main><article class="full"><h1>一起撸Node.JS（负贰）——环境</h1><span class="post-meta">写于<time> 2013 年 08 月 15 日 00 时 00 分</time><br>更新于<time> 2017 年 12 月 11 日 15 时 59 分</time></span><div class="article-toc"><strong>大纲</strong><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-环境"><span class="toc-number">1.</span> <span class="toc-text">Linux 环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Windows-环境"><span class="toc-number">2.</span> <span class="toc-text">Windows 环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Cygwin-安装和配置"><span class="toc-number">2.1.</span> <span class="toc-text">Cygwin 安装和配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Cygwin-安装"><span class="toc-number">2.1.1.</span> <span class="toc-text">Cygwin 安装</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vim-配置"><span class="toc-number">2.2.</span> <span class="toc-text">vim 配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#apt-cyg"><span class="toc-number">2.3.</span> <span class="toc-text">apt-cyg</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#apt-cyg-安装"><span class="toc-number">2.3.1.</span> <span class="toc-text">apt-cyg 安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#apt-cyg-修改"><span class="toc-number">2.3.2.</span> <span class="toc-text">apt-cyg 修改</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Node-js-安装"><span class="toc-number">2.4.</span> <span class="toc-text">Node.js 安装</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#真·Hello-World"><span class="toc-number">3.</span> <span class="toc-text">真·Hello World</span></a></li></ol></div><p>　　由于<a href="!--￼11--&gt;#linux-环境">Linux</a>中的环境搭建比较简单，所以草草略过。</p>
<p>　　其实<a href="!--￼12--&gt;#windows-环境">Windows</a>下也不算麻烦，但是这里会讲一定量的别的环境的搭建。</p>
<!-- 我是小小分割符 -->
<h2 id="Linux-环境"><a href="#Linux-环境" class="headerlink" title="Linux 环境"></a>Linux 环境</h2><p>讲到这个就很简单了，跟着下面的 <strong>bash</strong> 操作即可：</p>
<figure class="highlight plain"><figcaption><span>sh</span></figcaption><table><tr><td class="code"><pre><span class="line">$ cd /usr/local/bin</span><br><span class="line">$ wget http://nodejs.org/dist/v0.00.00/node-v0.00.00-linux-x00.tar.gz</span><br><span class="line">$ tar zxf node-v0.00.00-linux-x00.tar.gz</span><br><span class="line">$ cd node-v0.00.00-linux-x00</span><br></pre></td></tr></table></figure>
<blockquote>
<p>其中将上方的 <strong>v0.00.00</strong> 替换成 <strong>Node.js</strong> 最新的版本号，把 <strong>x00</strong> 替换成你自己电脑的位数。</p>
<p>也可以直接去官网 <a href="http://nodejs.org/download/" target="_blank" rel="external">http://nodejs.org/download/</a> 找到相应的地址。</p>
</blockquote>
<p>最后将其的连接加入到 <code>/usr/bin</code> 下即可。</p>
<figure class="highlight plain"><figcaption><span>sh</span></figcaption><table><tr><td class="code"><pre><span class="line">$ cd bin</span><br><span class="line">$ ln node /usr/bin</span><br><span class="line">$ ln npm /usr/bin</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>注意</strong>： 该用 <code>sudo</code> 的地方就用 <code>sudo</code> 或者 <code>su</code> 。</p>
</blockquote>
<p>至此，<strong>Linux</strong> 下的 <strong>Node.js</strong> 环境基本搭建完毕。</p>
<h2 id="Windows-环境"><a href="#Windows-环境" class="headerlink" title="Windows 环境"></a>Windows 环境</h2><h3 id="Cygwin-安装和配置"><a href="#Cygwin-安装和配置" class="headerlink" title="Cygwin 安装和配置"></a>Cygwin 安装和配置</h3><p><strong><em>Cygwin</em></strong> 是一个在 <strong><em>Windows</em></strong> 平台上运行的 <strong><em>Unix</em></strong> 模拟环境。对于学习 <strong><em>Unix/Linux</em></strong> 操作环境，或者从 <strong><em>Unix</em></strong> 到 <strong><em>Windows</em></strong> 的应用程序移植，或者进行某些特殊的开发工作，尤其是使用 <strong><em>GNU工具集</em></strong> 在 <strong><em>Windows</em></strong> 上进行嵌入式系统开发，非常有用。</p>
<h4 id="Cygwin-安装"><a href="#Cygwin-安装" class="headerlink" title="Cygwin 安装"></a>Cygwin 安装</h4><p>我们先跑到 <strong>Cygwin</strong> 的官网上去把东西下来：</p>
<blockquote>
<p><a href="http://cygwin.com/install.html" target="_blank" rel="external">http://cygwin.com/install.html</a></p>
<blockquote>
<p>注意，最好下 <strong>x86</strong> 的包，因为我们之后要讲一个 <code>cyg-apt</code> 的脚本插件，这是一个能让 <strong>Cygwin</strong> 能跟 <strong>Linux</strong> 一样通过脚本从源安装软件包的脚本。为了方便修改，我们将其下成 <strong>x86</strong> 的版本。</p>
</blockquote>
</blockquote>
<p>然后就是安装步骤了。</p>
<center><img src="http://blog-xcoder-in.qiniudn.com/cygwin-install-1.png" alt="从网络安装"></center><br><center><small>[图2.1]</small></center>

<p>到 <strong>[图2.1]</strong> 这个步骤的时候，选择默认的 <code>Install from Internet</code> 即可。</p>
<center><img src="http://blog-xcoder-in.qiniudn.com/cygwin-install-2.png" alt="选择安装路径"></center><br><center><small>[图2.2]</small></center>

<p>在 <strong>[图2.2]</strong> 的时候选一个安装路径。</p>
<blockquote>
<p><strong>注意</strong>：尽可能让这个安装路径简单，而不要是类似于</p>
<p><code>c:\Program Files\blahblah</code></p>
<p>这样的文件路径。</p>
</blockquote>
<center><img src="http://blog-xcoder-in.qiniudn.com/cygwin-install-3.png" alt="本地包路径"></center><br><center><small>[图2.3]</small></center>

<p><strong>[图2.3]</strong> 的时候选一个本地包的路径，我这里选的是 <code>e:\cygwin\tmp</code>。</p>
<center><img src="http://blog-xcoder-in.qiniudn.com/cygwin-install-4.png" alt="直连"></center><br><center><small>[图2.4]</small></center>

<p><strong>[图2.4]</strong> 选择直接连接。</p>
<center><img src="http://blog-xcoder-in.qiniudn.com/cygwin-install-5.png" alt="163"></center><br><center><small>[图2.5]</small></center>

<p>我们国内的用户源还是选择 <code>163</code> 的速度比较快。所以在 <strong>[图2.5]</strong> 这一步的时候就直接选用默认的 <code>163</code> 的源了。如果不是默认的话，请选中它。</p>
<p>在 <strong>Select Package</strong> 也就是选择预安装的软件的时候，把下列表中的软件包勾选起来：</p>
<blockquote>
<ul>
<li><strong>wget</strong>: 在 <strong>Utils</strong> 中</li>
<li><strong>vim</strong>: 在 <strong>Editors</strong> 中</li>
<li><strong>gcc</strong>: 在 <strong>Devel</strong> 中</li>
<li><strong>gcc-g++</strong>: 在 <strong>Devel</strong> 中</li>
<li><strong>make</strong>: 在 <strong>Devel</strong> 中</li>
<li><strong>cmake</strong>: 在 <strong>Devel</strong> 中</li>
</ul>
</blockquote>
<p>若是这些选项已经被选起来了就不用再选了，如果没有选起来则把它选中。</p>
<p>勾选好了之后就可以下一步安装了，直至安装完毕，你就可以打开你的 <strong>Cygwin</strong> 了。</p>
<center><img src="http://blog-xcoder-in.qiniudn.com/cygwin-install-6.png" alt="Cygwin"></center><br><center><small>[图2.6]</small></center>

<blockquote>
<p><strong>提示</strong>：你可以点击窗口左上角的小图片，然后里面的 <strong>Options</strong> 中，你可以调整你自己的 <strong>Cygwin</strong> 外观。</p>
</blockquote>
<h3 id="vim-配置"><a href="#vim-配置" class="headerlink" title="vim 配置"></a>vim 配置</h3><p>上一步我们已经选中了 <strong>vim</strong> ，也就是说我们已经在 <strong>Cygwin</strong> 中装上了 <strong>vim</strong>。但是由于这里的 <strong>vim</strong> 默认配置非常蛋疼，所以我们得改一下。</p>
<p>在你的 <strong>Cygwin</strong> 中一句句输入下面的命令：</p>
<figure class="highlight plain"><figcaption><span>sh</span></figcaption><table><tr><td class="code"><pre><span class="line">$ cd /home/&lt;你自己的用户名&gt;</span><br><span class="line">$ wget http://blog-xcoder-in.qiniudn.com/.vimrc</span><br><span class="line">$ mkdir .vim</span><br><span class="line">$ cd .vim</span><br><span class="line">$ mkdir colors</span><br><span class="line">$ cd colors</span><br><span class="line">$ wget http://blog-xcoder-in.qiniudn.com/molokai.vim</span><br></pre></td></tr></table></figure>
<p>这样你的 <strong>vim</strong> 就用上了上面的那个地址的配置文件，当然你也可以编辑你自己的配置文件或者说从网上下别的配置文件以满足你的个性化需求。</p>
<p><strong>vim</strong> 配置以及使用请参照：<a href="https://wiki.archlinux.org/index.php/Vim" target="_blank" rel="external">https://wiki.archlinux.org/index.php/Vim</a></p>
<blockquote>
<p>事无巨细问 <strong>ArchWiki</strong>。</p>
<div style="text-align: right;"><em>– <a href="https://github.com/kalxd" target="_blank" rel="external">kalxd</a></em></div>

</blockquote>
<h3 id="apt-cyg"><a href="#apt-cyg" class="headerlink" title="apt-cyg"></a>apt-cyg</h3><blockquote>
<p>apt-cyg is a command-line installer for Cygwin which cooperates with Cygwin Setup and uses the same repository. The syntax is similar to apt-get.</p>
<div style="text-align: right;"><em>– From apt-cyg googlecode page</em></div>

</blockquote>
<p>总之意思就是说 <code>apt-cyg</code> 是类似于 <strong>Linux</strong> 中的 <code>apt-get</code>， <code>yum</code>, <code>zypper</code> 等命令行软件包安装器一样，可以通过</p>
<ul>
<li><code>apt-cyg install &lt;package names&gt;</code> 来安装软件包</li>
<li><code>apt-cyg remove &lt;package names&gt;</code> 来移除软件包</li>
<li><code>apt-cyg update</code> 来更新 setup.ini</li>
<li><code>apt-cyg show</code> 来列出已安装的软件包</li>
<li><code>apt-cyg find &lt;pattern(s)&gt;</code> 来查找符合条件的软件包</li>
<li><code>apt-cyg describe &lt;pattern(s)&gt;</code> 来描述符合条件的软件包</li>
<li><code>apt-cyg packageof &lt;commands or files&gt;</code> 来定位其父软件包</li>
</ul>
<h4 id="apt-cyg-安装"><a href="#apt-cyg-安装" class="headerlink" title="apt-cyg 安装"></a>apt-cyg 安装</h4><p>其实也不能说是安装，纯粹是把脚本从网络上拷到自己的 <strong>Cygwin</strong> 的环境目录中。</p>
<p>在你的 <strong>Cygwin</strong> 中输入以下命令：</p>
<figure class="highlight plain"><figcaption><span>sh</span></figcaption><table><tr><td class="code"><pre><span class="line">$ cd /usr/local/bin</span><br><span class="line">$ wget http://apt-cyg.googlecode.com/svn/trunk/apt-cyg</span><br></pre></td></tr></table></figure>
<p>这样你就“安装”好了 <strong>apt-cyg</strong> 了。不过这里用的是默认的源，所有东西都是默认的。</p>
<p>如果你现在已经心安理得或者不想折腾了可以跳过 <strong><a href="#apt-cyg-修改">2.1.3.2. apt-cyg 修改</a></strong>，如果你想把源换成 <code>163</code> 的话那么稍微看一下吧。</p>
<h4 id="apt-cyg-修改"><a href="#apt-cyg-修改" class="headerlink" title="apt-cyg 修改"></a>apt-cyg 修改</h4><p>接下去我们要对 <strong>apt-cyg</strong> 做一些编辑。</p>
<p>你有下面两个选择：</p>
<ol>
<li>如果你想学习 <strong>vim</strong> 操作或者你已经熟悉了，那么直接使用 <code>vim apt-cyg</code> 来进行编辑。</li>
<li>如果你是懒人还是想要直接编辑的话，请跑到你的 <strong>Cygwin</strong> 的安装目录，找到 <strong>usr</strong> 文件夹，飞进 <strong>local/bin</strong> 目录中去，用你自己喜欢的文本编辑器打开并编辑。</li>
</ol>
<p>大约是 <code>68</code> 行上下吧，有一句是：</p>
<figure class="highlight plain"><figcaption><span>bash</span></figcaption><table><tr><td class="code"><pre><span class="line">mirror=ftp://mirror.mcs.anl.gov/pub/cygwin</span><br></pre></td></tr></table></figure>
<p>将其改成：</p>
<figure class="highlight plain"><figcaption><span>bash</span></figcaption><table><tr><td class="code"><pre><span class="line">mirror=http://mirrors.163.com/cygwin</span><br></pre></td></tr></table></figure>
<p>还有就是大概在 <code>98</code> 行和 <code>105</code> 行左右：</p>
<figure class="highlight plain"><figcaption><span>bash</span></figcaption><table><tr><td class="code"><pre><span class="line">wget -N $mirror/setup.bz2</span><br><span class="line">...</span><br><span class="line">wget -N $mirror/setup.ini</span><br></pre></td></tr></table></figure>
<p>修改成：</p>
<figure class="highlight plain"><figcaption><span>bash</span></figcaption><table><tr><td class="code"><pre><span class="line">wget -N $mirror/x86/setup.bz2</span><br><span class="line">...</span><br><span class="line">wget -N $mirror/x86/setup.ini</span><br></pre></td></tr></table></figure>
<p>至此，你的 <strong>Cygwin</strong> 环境基本完成，以后可以再慢慢完善。</p>
<h3 id="Node-js-安装"><a href="#Node-js-安装" class="headerlink" title="Node.js 安装"></a>Node.js 安装</h3><p>这个就很简单了，打开 <strong><a href="http://nodejs.org/download/" target="_blank" rel="external">Node.js</a></strong> 官网下载安装即可。</p>
<blockquote>
<p>选择 <strong>Windows Installer (.msi)</strong> 或者 <strong>Windows Binary (.exe)</strong>。</p>
</blockquote>
<p>安装好后就能直接在 <strong>Cygwin</strong> 里面使用了。</p>
<h2 id="真·Hello-World"><a href="#真·Hello-World" class="headerlink" title="真·Hello World"></a>真·Hello World</h2><p>现在，无论你是 <strong>Linux</strong> 用户还是 <strong>Windows</strong> 用户，都可以用一样的步骤来完成下面的 <code>Hello World</code> 了。</p>
<p>随便跑一个目录里面新建一个文件并且用 <strong>vim</strong> 编辑：</p>
<figure class="highlight plain"><figcaption><span>sh</span></figcaption><table><tr><td class="code"><pre><span class="line">$ vim hello.js</span><br></pre></td></tr></table></figure>
<p>在里面输入下面的东西：</p>
<figure class="highlight plain"><figcaption><span>javascript</span></figcaption><table><tr><td class="code"><pre><span class="line">console.log(&quot;Hello world!&quot;);</span><br></pre></td></tr></table></figure>
<p>然后退出 <strong>vim</strong> 执行：</p>
<figure class="highlight plain"><figcaption><span>sh</span></figcaption><table><tr><td class="code"><pre><span class="line">$ node hello.js</span><br></pre></td></tr></table></figure>
<p>终于，<strong>真·Hello world</strong> 出现在了你的眼前，而不需要借助 <strong><a href="http://ideone.com/" target="_blank" rel="external">IDEOne</a></strong> 了。</p>
<p><strong><em>To be continued…</em></strong></p>
<hr><section class="comment"><div id="disqus_thread"></div></section><script>var DISQUS_PAGE_URL = "https://xcoder.in/2013/08/15/node-2-environment-in-windows/";</script><script>var DISQUS_IDENTIFIER = "node-2-environment-in-windows";</script><script>var DISQUS_SHORT_NAME = "xcoder"</script><script>var disqus_config = function() {
  this.page.url = DISQUS_PAGE_URL;
  this.page.identifier = DISQUS_IDENTIFIER;
};

(function() {
  var d = document, s = d.createElement("script");
  s.src = "https://" + DISQUS_SHORT_NAME + ".disqus.com/embed.js";
  s.setAttribute("data-timestamp", +new Date());
  (d.head || d.body).appendChild(s);
})();</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><footer><section class="copyright">&copy; 2016 - 2017<a href="/">死月·吃圡蕾特</a></section><section class="intro">由<a href="https://hexo.io/">Hexo</a>驱动&middot;挂载<a href="https://github.com/xadillax/hexo-xnew">X'new</a>主题</section></footer></article></main><script src="//cdn.bootcss.com/Han/3.3.0/han.min.js"></script><script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><script src="//cdn.bootcss.com/jquery-backstretch/2.0.4/jquery.backstretch.min.js"></script><script src="/scripts/highlight.pack.js"></script><script>$(function() {
    $("header").backstretch("/images/header.jpeg");

    $("figure.highlight").each(function(i, block) {
        $(block).removeClass("highlight");
        $("<pre><code class='__tobehl " + ($(block).attr("class") === "plain" ? "" : ("lang-" + $(block).attr("class"))) + "'></code></pre>").insertAfter($(block));
        $(block).next().find("code").text((block.innerText || block.textContent));
        $(block).remove();
    });
    $(".__tobehl").each(function(i, block) {
        hljs.highlightBlock(block);
    });

    $("article.full img").each(function() {
        $(this).parent().css("text-align", "center");
    });

    if($(".article-toc").children().length < 2) {
        $(".article-toc").css("display", "none");
    }
});</script></body></html>